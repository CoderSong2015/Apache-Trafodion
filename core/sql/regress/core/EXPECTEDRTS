>>
>>create table tstat (a char(5) not null ,
+>                     b smallint not null ,
+>                     c char(4),
+>                     d integer,
+>                     primary key (a,b) )
+>                     salt using 2 partitions ;

--- SQL operation complete.
>>insert into tstat values ('AAAA ',11,'AAAA',11);

--- 1 row(s) inserted.
>>insert into tstat values ('BBBB ',12,'BBBB',12);

--- 1 row(s) inserted.
>>insert into tstat values ('MMMM ',21,'MMMM',21);

--- 1 row(s) inserted.
>>insert into tstat values ('XXXXX',22,'XXXX', 22);

--- 1 row(s) inserted.
>>
>>control query default attempt_esp_parallelism 'on' ;

--- SQL operation complete.
>>control query default parallel_num_esps '2' ;

--- SQL operation complete.
>>control query default detailed_statistics 'ACCUMULATED' ;

--- SQL operation complete.
>>set session default statistics_view_type 'default' ;

--- SQL operation complete.
>>control query shape esp_exchange(hash_groupby(esp_exchange(scan)));

--- SQL operation complete.
>>
>>-- ACCUMULATED Stats Test
>>-- Also tests to mimic ODBC by calling explain options 'f'
>>-- and ensure qid current returns the qid user prepared statement
>>prepare s1 from select distinct d from tstat ;

--- SQL command prepared.
>>explain options 'f' s1 ;

LC   RC   OP   OPERATOR              OPT       DESCRIPTION           CARD
---- ---- ---- --------------------  --------  --------------------  ---------

4    .    5    root                                                  2.00E+000
3    .    4    esp_exchange                    1:2(hash2)            2.00E+000
2    .    3    hash_groupby                                          2.00E+000
1    .    2    esp_exchange                    2(hash2):2(hash2)     1.00E+002
.    .    1    trafodion_scan                  TSTAT                 1.00E+002

--- SQL operation complete.
>>log LOGRTS;
>>get statistics for qid current ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_272_S1
Compile Start Time       2017/04/06 23:05:20.156375
Compile End Time         2017/04/06 23:05:20.204717
Compile Elapsed Time                 0:00:00.048342
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    ACCUMULATED_STATS

--- SQL operation complete.
>>log;
>>SET SESSION DEFAULT STATISTICS_VIEW_TYPE 'DEFAULT' ;

--- SQL operation complete.
>>display statistics for QID MXID11000009156212358279905535000000000000206U3333300_272_S1 ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_272_S1
Compile Start Time       2017/04/06 23:05:20.156375
Compile End Time         2017/04/06 23:05:20.204717
Compile Elapsed Time                 0:00:00.048342
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    ACCUMULATED_STATS

--- SQL operation complete.
>>get statistics for QID MXID11000009156212358279905535000000000000206U3333300_272_S1 ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_272_S1
Compile Start Time       2017/04/06 23:05:20.156375
Compile End Time         2017/04/06 23:05:20.204717
Compile Elapsed Time                 0:00:00.048342
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    ACCUMULATED_STATS

--- SQL operation complete.
>>log;
>>display statistics for qid current;
Qid                      MXID11000009156212358279905535000000000000206U3333300_272_S1
Compile Start Time       2017/04/06 23:05:20.156375
Compile End Time         2017/04/06 23:05:20.204717
Compile Elapsed Time                 0:00:00.048342
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    ACCUMULATED_STATS

--- SQL operation complete.
>>get statistics for qid current ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_272_S1
Compile Start Time       2017/04/06 23:05:20.156375
Compile End Time         2017/04/06 23:05:20.204717
Compile Elapsed Time                 0:00:00.048342
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    ACCUMULATED_STATS

--- SQL operation complete.
>>execute s1;

D          
-----------

         21
         22
         11
         12

--- 4 row(s) selected.
>>log;
>>SET SESSION DEFAULT STATISTICS_VIEW_TYPE 'DEFAULT' ;

--- SQL operation complete.
>>display statistics for QID MXID11000009156212358279905535000000000000206U3333300_272_S1 ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_272_S1
Compile Start Time       2017/04/06 23:05:20.156375
Compile End Time         2017/04/06 23:05:20.204717
Compile Elapsed Time                 0:00:00.048342
Execute Start Time       2017/04/06 23:05:26.507000
Execute End Time         2017/04/06 23:05:30.219438
Execute Elapsed Time                 0:00:03.712438
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           2
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:05:30.217591
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    ACCUMULATED_STATS
Accessed Rows            4
Used Rows                4
SE IOs                   4
SE IO Bytes              176
SE IO MAX Time           765,673
SQL Process Busy Time    3,750,747
UDR Process Busy Time    0
SQL Space Allocated      896                       KB
SQL Space Used           766                       KB
SQL Heap Allocated       10,471                    KB
SQL Heap Used            80                        KB
SQL Heap WM              67                        KB
Processes Created        2
Process Create Time      142,012
Request Message Count    26
Request Message Bytes    39,392
Reply Message Count      15
Reply Message Bytes      38,760
Scr. Overflow Mode       DISK
Scr. File Count          0
Scr. Buffer Blk Size     0
Scr. Buffer Blks Read    0
Scr. Buffer Blks Written 0
Scr. Read Count          0
Scr. Write Count         0

--- SQL operation complete.
>>get statistics for QID MXID11000009156212358279905535000000000000206U3333300_272_S1 ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_272_S1
Compile Start Time       2017/04/06 23:05:20.156375
Compile End Time         2017/04/06 23:05:20.204717
Compile Elapsed Time                 0:00:00.048342
Execute Start Time       2017/04/06 23:05:26.507000
Execute End Time         2017/04/06 23:05:30.219438
Execute Elapsed Time                 0:00:03.712438
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           2
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:05:30.217591
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    ACCUMULATED_STATS
Accessed Rows            4
Used Rows                4
SE IOs                   4
SE IO Bytes              176
SE IO MAX Time           765,673
SQL Process Busy Time    3,750,747
UDR Process Busy Time    0
SQL Space Allocated      896                       KB
SQL Space Used           766                       KB
SQL Heap Allocated       10,471                    KB
SQL Heap Used            80                        KB
SQL Heap WM              67                        KB
Processes Created        2
Process Create Time      142,012
Request Message Count    26
Request Message Bytes    39,392
Reply Message Count      15
Reply Message Bytes      38,760
Scr. Overflow Mode       DISK
Scr. File Count          0
Scr. Buffer Blk Size     0
Scr. Buffer Blks Read    0
Scr. Buffer Blks Written 0
Scr. Read Count          0
Scr. Write Count         0

--- SQL operation complete.
>>log;
>>display statistics for qid current;
Qid                      MXID11000009156212358279905535000000000000206U3333300_272_S1
Compile Start Time       2017/04/06 23:05:20.156375
Compile End Time         2017/04/06 23:05:20.204717
Compile Elapsed Time                 0:00:00.048342
Execute Start Time       2017/04/06 23:05:26.507000
Execute End Time         2017/04/06 23:05:30.219438
Execute Elapsed Time                 0:00:03.712438
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           1
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:05:30.217591
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    ACCUMULATED_STATS
Accessed Rows            4
Used Rows                4
SE IOs                   4
SE IO Bytes              176
SE IO MAX Time           765,673
SQL Process Busy Time    3,750,747
UDR Process Busy Time    0
SQL Space Allocated      896                       KB
SQL Space Used           766                       KB
SQL Heap Allocated       10,471                    KB
SQL Heap Used            80                        KB
SQL Heap WM              67                        KB
Processes Created        2
Process Create Time      142,012
Request Message Count    26
Request Message Bytes    39,392
Reply Message Count      15
Reply Message Bytes      38,760
Scr. Overflow Mode       DISK
Scr. File Count          0
Scr. Buffer Blk Size     0
Scr. Buffer Blks Read    0
Scr. Buffer Blks Written 0
Scr. Read Count          0
Scr. Write Count         0

--- SQL operation complete.
>>get statistics for qid current ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_272_S1
Compile Start Time       2017/04/06 23:05:20.156375
Compile End Time         2017/04/06 23:05:20.204717
Compile Elapsed Time                 0:00:00.048342
Execute Start Time       2017/04/06 23:05:26.507000
Execute End Time         2017/04/06 23:05:30.219438
Execute Elapsed Time                 0:00:03.712438
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           1
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:05:30.217591
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    ACCUMULATED_STATS
Accessed Rows            4
Used Rows                4
SE IOs                   4
SE IO Bytes              176
SE IO MAX Time           765,673
SQL Process Busy Time    3,750,747
UDR Process Busy Time    0
SQL Space Allocated      896                       KB
SQL Space Used           766                       KB
SQL Heap Allocated       10,471                    KB
SQL Heap Used            80                        KB
SQL Heap WM              67                        KB
Processes Created        2
Process Create Time      142,012
Request Message Count    26
Request Message Bytes    39,392
Reply Message Count      15
Reply Message Bytes      38,760
Scr. Overflow Mode       DISK
Scr. File Count          0
Scr. Buffer Blk Size     0
Scr. Buffer Blks Read    0
Scr. Buffer Blks Written 0
Scr. Read Count          0
Scr. Write Count         0

--- SQL operation complete.
>>prepare s1 from select distinct d from tstat ;

--- SQL command prepared.
>>log;
>>SET SESSION DEFAULT STATISTICS_VIEW_TYPE 'DEFAULT' ;

--- SQL operation complete.
>>display statistics for QID MXID11000009156212358279905535000000000000206U3333300_272_S1 ;

*** ERROR[8923] The given Query Id MXID11000009156212358279905535000000000000206U3333300_272_S1 is not found.

--- SQL operation failed with errors.
>>get statistics for QID MXID11000009156212358279905535000000000000206U3333300_272_S1 ;

*** ERROR[8923] The given Query Id MXID11000009156212358279905535000000000000206U3333300_272_S1 is not found.

--- SQL operation failed with errors.
>>log;
>>SET SESSION DEFAULT STATISTICS_VIEW_TYPE 'DEFAULT' ;

--- SQL operation complete.
>>display statistics for QID MXID11000009156212358279905535000000000000206U3333300_281_S1 ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_281_S1
Compile Start Time       2017/04/06 23:05:33.259103
Compile End Time         2017/04/06 23:05:33.259721
Compile Elapsed Time                 0:00:00.000618
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    ACCUMULATED_STATS

--- SQL operation complete.
>>get statistics for QID MXID11000009156212358279905535000000000000206U3333300_281_S1 ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_281_S1
Compile Start Time       2017/04/06 23:05:33.259103
Compile End Time         2017/04/06 23:05:33.259721
Compile Elapsed Time                 0:00:00.000618
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    ACCUMULATED_STATS

--- SQL operation complete.
>>log;
>>display statistics for qid current;
Qid                      MXID11000009156212358279905535000000000000206U3333300_281_S1
Compile Start Time       2017/04/06 23:05:33.259103
Compile End Time         2017/04/06 23:05:33.259721
Compile Elapsed Time                 0:00:00.000618
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    ACCUMULATED_STATS

--- SQL operation complete.
>>get statistics for qid current ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_281_S1
Compile Start Time       2017/04/06 23:05:33.259103
Compile End Time         2017/04/06 23:05:33.259721
Compile Elapsed Time                 0:00:00.000618
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    ACCUMULATED_STATS

--- SQL operation complete.
>>
>>-- PERTABLE stats
>>control query default detailed_statistics 'pertable' ;

--- SQL operation complete.
>>set session default statistics_view_type 'default' ;

--- SQL operation complete.
>>prepare s1 from select distinct d from tstat ;

--- SQL command prepared.
>>log;
>>get statistics for qid current ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_286_S1
Compile Start Time       2017/04/06 23:05:39.345617
Compile End Time         2017/04/06 23:05:39.388433
Compile Elapsed Time                 0:00:00.042816
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    PERTABLE_STATS

--- SQL operation complete.
>>log;
>>SET SESSION DEFAULT STATISTICS_VIEW_TYPE 'DEFAULT' ;

--- SQL operation complete.
>>display statistics for QID MXID11000009156212358279905535000000000000206U3333300_286_S1 ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_286_S1
Compile Start Time       2017/04/06 23:05:39.345617
Compile End Time         2017/04/06 23:05:39.388433
Compile Elapsed Time                 0:00:00.042816
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    PERTABLE_STATS

--- SQL operation complete.
>>get statistics for QID MXID11000009156212358279905535000000000000206U3333300_286_S1 ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_286_S1
Compile Start Time       2017/04/06 23:05:39.345617
Compile End Time         2017/04/06 23:05:39.388433
Compile Elapsed Time                 0:00:00.042816
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    PERTABLE_STATS

--- SQL operation complete.
>>log;
>>SET SESSION DEFAULT STATISTICS_VIEW_TYPE 'DEFAULT' ;

--- SQL operation complete.
>>display statistics for QID MXID11000009156212358279905535000000000000206U3333300_286_S1 ACCUMULATED;
Qid                      MXID11000009156212358279905535000000000000206U3333300_286_S1
Compile Start Time       2017/04/06 23:05:39.345617
Compile End Time         2017/04/06 23:05:39.388433
Compile Elapsed Time                 0:00:00.042816
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    PERTABLE_STATS

--- SQL operation complete.
>>get statistics for QID MXID11000009156212358279905535000000000000206U3333300_286_S1 ACCUMULATED;
Qid                      MXID11000009156212358279905535000000000000206U3333300_286_S1
Compile Start Time       2017/04/06 23:05:39.345617
Compile End Time         2017/04/06 23:05:39.388433
Compile Elapsed Time                 0:00:00.042816
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    PERTABLE_STATS

--- SQL operation complete.
>>log;
>>display statistics for qid current;
Qid                      MXID11000009156212358279905535000000000000206U3333300_286_S1
Compile Start Time       2017/04/06 23:05:39.345617
Compile End Time         2017/04/06 23:05:39.388433
Compile Elapsed Time                 0:00:00.042816
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    PERTABLE_STATS

--- SQL operation complete.
>>get statistics for qid current ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_286_S1
Compile Start Time       2017/04/06 23:05:39.345617
Compile End Time         2017/04/06 23:05:39.388433
Compile Elapsed Time                 0:00:00.042816
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    PERTABLE_STATS

--- SQL operation complete.
>>display statistics for qid current accumulated ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_286_S1
Compile Start Time       2017/04/06 23:05:39.345617
Compile End Time         2017/04/06 23:05:39.388433
Compile Elapsed Time                 0:00:00.042816
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    PERTABLE_STATS

--- SQL operation complete.
>>get statistics for qid current accumulated ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_286_S1
Compile Start Time       2017/04/06 23:05:39.345617
Compile End Time         2017/04/06 23:05:39.388433
Compile Elapsed Time                 0:00:00.042816
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    PERTABLE_STATS

--- SQL operation complete.
>>execute s1;

D          
-----------

         12
         11
         21
         22

--- 4 row(s) selected.
>>log;
>>SET SESSION DEFAULT STATISTICS_VIEW_TYPE 'DEFAULT' ;

--- SQL operation complete.
>>display statistics for QID MXID11000009156212358279905535000000000000206U3333300_286_S1 ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_286_S1
Compile Start Time       2017/04/06 23:05:39.345617
Compile End Time         2017/04/06 23:05:39.388433
Compile Elapsed Time                 0:00:00.042816
Execute Start Time       2017/04/06 23:05:45.596219
Execute End Time         2017/04/06 23:05:45.609391
Execute Elapsed Time                 0:00:00.013172
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           2
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:05:45.606884
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    PERTABLE_STATS
SQL Process Busy Time    5,884
UDR Process Busy Time    0
SQL Space Allocated      896                       KB
SQL Space Used           766                       KB
SQL Heap Allocated       200                       KB
SQL Heap Used            78                        KB
SQL Heap WM              10,338                    KB
Processes Created        0
Process Create Time      0
Request Message Count    27
Request Message Bytes    39,552
Reply Message Count      15
Reply Message Bytes      39,144
Scr. Overflow Mode       UNKNOWN
Scr. File Count          0
Scr. Buffer Blk Size     0
Scr. Buffer Blks Read    0
Scr. Buffer Blks Written 0
Scr. Read Count          0
Scr. Write Count         0
Sort TopN                -1

       ID       DOP         Table Name
   Records Accessed       Records Used   HBase/Hive   HBase/Hive      HBase/Hive IO      HBase/Hive IO
   Estimated/Actual   Estimated/Actual          IOs    IO MBytes           Sum Time           Max Time
        1         2   TRAFODION.SCH.TSTAT
                  0                100
                  4                  4            4            0              7,088              4,227

--- SQL operation complete.
>>get statistics for QID MXID11000009156212358279905535000000000000206U3333300_286_S1 ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_286_S1
Compile Start Time       2017/04/06 23:05:39.345617
Compile End Time         2017/04/06 23:05:39.388433
Compile Elapsed Time                 0:00:00.042816
Execute Start Time       2017/04/06 23:05:45.596219
Execute End Time         2017/04/06 23:05:45.609391
Execute Elapsed Time                 0:00:00.013172
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           2
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:05:45.606884
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    PERTABLE_STATS
SQL Process Busy Time    5,884
UDR Process Busy Time    0
SQL Space Allocated      896                       KB
SQL Space Used           766                       KB
SQL Heap Allocated       200                       KB
SQL Heap Used            78                        KB
SQL Heap WM              10,338                    KB
Processes Created        0
Process Create Time      0
Request Message Count    27
Request Message Bytes    39,552
Reply Message Count      15
Reply Message Bytes      39,144
Scr. Overflow Mode       UNKNOWN
Scr. File Count          0
Scr. Buffer Blk Size     0
Scr. Buffer Blks Read    0
Scr. Buffer Blks Written 0
Scr. Read Count          0
Scr. Write Count         0
Sort TopN                -1

       ID       DOP         Table Name
   Records Accessed       Records Used   HBase/Hive   HBase/Hive      HBase/Hive IO      HBase/Hive IO
   Estimated/Actual   Estimated/Actual          IOs    IO MBytes           Sum Time           Max Time
        1         2   TRAFODION.SCH.TSTAT
                  0                100
                  4                  4            4            0              7,088              4,227

--- SQL operation complete.
>>log;
>>SET SESSION DEFAULT STATISTICS_VIEW_TYPE 'DEFAULT' ;

--- SQL operation complete.
>>display statistics for QID MXID11000009156212358279905535000000000000206U3333300_286_S1 ACCUMULATED;
Qid                      MXID11000009156212358279905535000000000000206U3333300_286_S1
Compile Start Time       2017/04/06 23:05:39.345617
Compile End Time         2017/04/06 23:05:39.388433
Compile Elapsed Time                 0:00:00.042816
Execute Start Time       2017/04/06 23:05:45.596219
Execute End Time         2017/04/06 23:05:45.609391
Execute Elapsed Time                 0:00:00.013172
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           2
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:05:45.606884
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    PERTABLE_STATS
Accessed Rows            4
Used Rows                4
SE IOs                   4
SE IO Bytes              176
SE IO MAX Time           4,227
SQL Process Busy Time    5,884
UDR Process Busy Time    0
SQL Space Allocated      896                       KB
SQL Space Used           766                       KB
SQL Heap Allocated       200                       KB
SQL Heap Used            78                        KB
SQL Heap WM              10,338                    KB
Processes Created        0
Process Create Time      0
Request Message Count    27
Request Message Bytes    39,552
Reply Message Count      15
Reply Message Bytes      39,144
Scr. Overflow Mode       UNKNOWN
Scr. File Count          0
Scr. Buffer Blk Size     0
Scr. Buffer Blks Read    0
Scr. Buffer Blks Written 0
Scr. Read Count          0
Scr. Write Count         0

--- SQL operation complete.
>>get statistics for QID MXID11000009156212358279905535000000000000206U3333300_286_S1 ACCUMULATED;
Qid                      MXID11000009156212358279905535000000000000206U3333300_286_S1
Compile Start Time       2017/04/06 23:05:39.345617
Compile End Time         2017/04/06 23:05:39.388433
Compile Elapsed Time                 0:00:00.042816
Execute Start Time       2017/04/06 23:05:45.596219
Execute End Time         2017/04/06 23:05:45.609391
Execute Elapsed Time                 0:00:00.013172
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           2
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:05:45.606884
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    PERTABLE_STATS
Accessed Rows            4
Used Rows                4
SE IOs                   4
SE IO Bytes              176
SE IO MAX Time           4,227
SQL Process Busy Time    5,884
UDR Process Busy Time    0
SQL Space Allocated      896                       KB
SQL Space Used           766                       KB
SQL Heap Allocated       200                       KB
SQL Heap Used            78                        KB
SQL Heap WM              10,338                    KB
Processes Created        0
Process Create Time      0
Request Message Count    27
Request Message Bytes    39,552
Reply Message Count      15
Reply Message Bytes      39,144
Scr. Overflow Mode       UNKNOWN
Scr. File Count          0
Scr. Buffer Blk Size     0
Scr. Buffer Blks Read    0
Scr. Buffer Blks Written 0
Scr. Read Count          0
Scr. Write Count         0

--- SQL operation complete.
>>log;
>>display statistics for qid current;
Qid                      MXID11000009156212358279905535000000000000206U3333300_286_S1
Compile Start Time       2017/04/06 23:05:39.345617
Compile End Time         2017/04/06 23:05:39.388433
Compile Elapsed Time                 0:00:00.042816
Execute Start Time       2017/04/06 23:05:45.596219
Execute End Time         2017/04/06 23:05:45.609391
Execute Elapsed Time                 0:00:00.013172
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           1
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:05:45.606884
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    PERTABLE_STATS
SQL Process Busy Time    5,884
UDR Process Busy Time    0
SQL Space Allocated      896                       KB
SQL Space Used           766                       KB
SQL Heap Allocated       200                       KB
SQL Heap Used            78                        KB
SQL Heap WM              10,338                    KB
Processes Created        0
Process Create Time      0
Request Message Count    27
Request Message Bytes    39,552
Reply Message Count      15
Reply Message Bytes      39,144
Scr. Overflow Mode       UNKNOWN
Scr. File Count          0
Scr. Buffer Blk Size     0
Scr. Buffer Blks Read    0
Scr. Buffer Blks Written 0
Scr. Read Count          0
Scr. Write Count         0
Sort TopN                -1

       ID       DOP         Table Name
   Records Accessed       Records Used   HBase/Hive   HBase/Hive      HBase/Hive IO      HBase/Hive IO
   Estimated/Actual   Estimated/Actual          IOs    IO MBytes           Sum Time           Max Time
        1         2   TRAFODION.SCH.TSTAT
                  0                100
                  4                  4            4            0              7,088              4,227

--- SQL operation complete.
>>get statistics for qid current ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_286_S1
Compile Start Time       2017/04/06 23:05:39.345617
Compile End Time         2017/04/06 23:05:39.388433
Compile Elapsed Time                 0:00:00.042816
Execute Start Time       2017/04/06 23:05:45.596219
Execute End Time         2017/04/06 23:05:45.609391
Execute Elapsed Time                 0:00:00.013172
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           1
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:05:45.606884
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    PERTABLE_STATS
SQL Process Busy Time    5,884
UDR Process Busy Time    0
SQL Space Allocated      896                       KB
SQL Space Used           766                       KB
SQL Heap Allocated       200                       KB
SQL Heap Used            78                        KB
SQL Heap WM              10,338                    KB
Processes Created        0
Process Create Time      0
Request Message Count    27
Request Message Bytes    39,552
Reply Message Count      15
Reply Message Bytes      39,144
Scr. Overflow Mode       UNKNOWN
Scr. File Count          0
Scr. Buffer Blk Size     0
Scr. Buffer Blks Read    0
Scr. Buffer Blks Written 0
Scr. Read Count          0
Scr. Write Count         0
Sort TopN                -1

       ID       DOP         Table Name
   Records Accessed       Records Used   HBase/Hive   HBase/Hive      HBase/Hive IO      HBase/Hive IO
   Estimated/Actual   Estimated/Actual          IOs    IO MBytes           Sum Time           Max Time
        1         2   TRAFODION.SCH.TSTAT
                  0                100
                  4                  4            4            0              7,088              4,227

--- SQL operation complete.
>>display statistics for qid current accumulated;
Qid                      MXID11000009156212358279905535000000000000206U3333300_286_S1
Compile Start Time       2017/04/06 23:05:39.345617
Compile End Time         2017/04/06 23:05:39.388433
Compile Elapsed Time                 0:00:00.042816
Execute Start Time       2017/04/06 23:05:45.596219
Execute End Time         2017/04/06 23:05:45.609391
Execute Elapsed Time                 0:00:00.013172
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           1
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:05:45.606884
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    PERTABLE_STATS
Accessed Rows            4
Used Rows                4
SE IOs                   4
SE IO Bytes              176
SE IO MAX Time           4,227
SQL Process Busy Time    5,884
UDR Process Busy Time    0
SQL Space Allocated      896                       KB
SQL Space Used           766                       KB
SQL Heap Allocated       200                       KB
SQL Heap Used            78                        KB
SQL Heap WM              10,338                    KB
Processes Created        0
Process Create Time      0
Request Message Count    27
Request Message Bytes    39,552
Reply Message Count      15
Reply Message Bytes      39,144
Scr. Overflow Mode       UNKNOWN
Scr. File Count          0
Scr. Buffer Blk Size     0
Scr. Buffer Blks Read    0
Scr. Buffer Blks Written 0
Scr. Read Count          0
Scr. Write Count         0

--- SQL operation complete.
>>get statistics for qid current accumulated;
Qid                      MXID11000009156212358279905535000000000000206U3333300_286_S1
Compile Start Time       2017/04/06 23:05:39.345617
Compile End Time         2017/04/06 23:05:39.388433
Compile Elapsed Time                 0:00:00.042816
Execute Start Time       2017/04/06 23:05:45.596219
Execute End Time         2017/04/06 23:05:45.609391
Execute Elapsed Time                 0:00:00.013172
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           1
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:05:45.606884
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    PERTABLE_STATS
Accessed Rows            4
Used Rows                4
SE IOs                   4
SE IO Bytes              176
SE IO MAX Time           4,227
SQL Process Busy Time    5,884
UDR Process Busy Time    0
SQL Space Allocated      896                       KB
SQL Space Used           766                       KB
SQL Heap Allocated       200                       KB
SQL Heap Used            78                        KB
SQL Heap WM              10,338                    KB
Processes Created        0
Process Create Time      0
Request Message Count    27
Request Message Bytes    39,552
Reply Message Count      15
Reply Message Bytes      39,144
Scr. Overflow Mode       UNKNOWN
Scr. File Count          0
Scr. Buffer Blk Size     0
Scr. Buffer Blks Read    0
Scr. Buffer Blks Written 0
Scr. Read Count          0
Scr. Write Count         0

--- SQL operation complete.
>>log;
>>obey PQIDOUT;
>>SET SESSION DEFAULT PARENT_QID 'MXID11000009156212358279905535000000000000206U3333300_286_S1';

--- SQL operation complete.
>>prepare s1 from select distinct d from tstat ;

--- SQL command prepared.
>>log;
>>SET SESSION DEFAULT STATISTICS_VIEW_TYPE 'DEFAULT' ;

--- SQL operation complete.
>>display statistics for QID MXID11000009156212358279905535000000000000206U3333300_300_S1 ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_300_S1
Compile Start Time       2017/04/06 23:05:54.780156
Compile End Time         2017/04/06 23:05:54.780786
Compile Elapsed Time                 0:00:00.000630
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               MXID11000009156212358279905535000000000000206U3333300_286_S1
Parent Query System      SAME
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    PERTABLE_STATS

--- SQL operation complete.
>>get statistics for QID MXID11000009156212358279905535000000000000206U3333300_300_S1 ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_300_S1
Compile Start Time       2017/04/06 23:05:54.780156
Compile End Time         2017/04/06 23:05:54.780786
Compile Elapsed Time                 0:00:00.000630
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               MXID11000009156212358279905535000000000000206U3333300_286_S1
Parent Query System      SAME
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    PERTABLE_STATS

--- SQL operation complete.
>>log;
>>SET SESSION DEFAULT PARENT_QID 'NONE' ;

--- SQL operation complete.
>>prepare s1 from select distinct d from tstat ;

--- SQL command prepared.
>>log;
>>SET SESSION DEFAULT STATISTICS_VIEW_TYPE 'DEFAULT' ;

--- SQL operation complete.
>>display statistics for QID MXID11000009156212358279905535000000000000206U3333300_302_S1 ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_302_S1
Compile Start Time       2017/04/06 23:05:57.786576
Compile End Time         2017/04/06 23:05:57.787052
Compile Elapsed Time                 0:00:00.000476
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    PERTABLE_STATS

--- SQL operation complete.
>>get statistics for QID MXID11000009156212358279905535000000000000206U3333300_302_S1 ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_302_S1
Compile Start Time       2017/04/06 23:05:57.786576
Compile End Time         2017/04/06 23:05:57.787052
Compile Elapsed Time                 0:00:00.000476
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    PERTABLE_STATS

--- SQL operation complete.
>>log;
>>
>>-- TEST for OPERATOR stats
>>control query default detailed_statistics 'system' ;

--- SQL operation complete.
>>set session default statistics_view_type 'default' ;

--- SQL operation complete.
>>prepare s1 from select distinct d from tstat ;

--- SQL command prepared.
>>log ;
>>SET SESSION DEFAULT STATISTICS_VIEW_TYPE 'DEFAULT' ;

--- SQL operation complete.
>>display statistics for QID MXID11000009156212358279905535000000000000206U3333300_305_S1 ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS

--- SQL operation complete.
>>get statistics for QID MXID11000009156212358279905535000000000000206U3333300_305_S1 ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS

--- SQL operation complete.
>>log;
>>execute s1 ;

D          
-----------

         12
         11
         21
         22

--- 4 row(s) selected.
>>log ;
>>SET SESSION DEFAULT STATISTICS_VIEW_TYPE 'DEFAULT' ;

--- SQL operation complete.
>>display statistics for QID MXID11000009156212358279905535000000000000206U3333300_305_S1 ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       2017/04/06 23:06:06.989107
Execute End Time         2017/04/06 23:06:07.002116
Execute Elapsed Time                 0:00:00.013009
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           2
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:06:07.000444
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS

LC   RC   Id   PaId ExId Frag TDB Name                 DOP     Dispatches      Oper CPU Time  Est. Records Used  Act. Records Used    Details

10   .    11   .    5    0    EX_ROOT                  1                5                  8                  0                  4              24 815
9    .    10   11   4    0    EX_SPLIT_TOP             1                5                  7                  2                  4              24
8    .    9    10   4    0    EX_SEND_TOP              2               10                800                  2                  4              32
7    .    8    9    4    2    EX_SEND_BOTTOM           2               17                144                  2                  4              32
6    .    7    8    4    2    EX_SPLIT_BOTTOM          2                7                 14                  2                  4              24 3583
5    .    6    7    3    2    EX_HASH_GRBY             2                6              2,638                  1                  4              24 0|0|0
4    .    5    6    2    2    EX_SPLIT_TOP             2               11                 13                100                  4              24
3    .    4    5    2    2    EX_SEND_TOP              4               18                774                100                  4              32
2    .    3    4    2    3    EX_SEND_BOTTOM           4               35                176                100                  4              32
1    .    2    3    2    3    EX_SPLIT_BOTTOM          2                8                 22                100                  4              24 1983
.    .    1    2    1    3    EX_TRAF_KEY_SELECT       2               12              5,355                100                  4              24 TRAFODION.SCH.TSTAT|4|176

--- SQL operation complete.
>>get statistics for QID MXID11000009156212358279905535000000000000206U3333300_305_S1 ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       2017/04/06 23:06:06.989107
Execute End Time         2017/04/06 23:06:07.002116
Execute Elapsed Time                 0:00:00.013009
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           2
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:06:07.000444
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS

LC   RC   Id   PaId ExId Frag TDB Name                 DOP     Dispatches      Oper CPU Time  Est. Records Used  Act. Records Used    Details

10   .    11   .    5    0    EX_ROOT                  1                5                  8                  0                  4              24 815
9    .    10   11   4    0    EX_SPLIT_TOP             1                5                  7                  2                  4              24
8    .    9    10   4    0    EX_SEND_TOP              2               10                800                  2                  4              32
7    .    8    9    4    2    EX_SEND_BOTTOM           2               17                144                  2                  4              32
6    .    7    8    4    2    EX_SPLIT_BOTTOM          2                7                 14                  2                  4              24 3583
5    .    6    7    3    2    EX_HASH_GRBY             2                6              2,638                  1                  4              24 0|0|0
4    .    5    6    2    2    EX_SPLIT_TOP             2               11                 13                100                  4              24
3    .    4    5    2    2    EX_SEND_TOP              4               18                774                100                  4              32
2    .    3    4    2    3    EX_SEND_BOTTOM           4               35                176                100                  4              32
1    .    2    3    2    3    EX_SPLIT_BOTTOM          2                8                 22                100                  4              24 1983
.    .    1    2    1    3    EX_TRAF_KEY_SELECT       2               12              5,355                100                  4              24 TRAFODION.SCH.TSTAT|4|176

--- SQL operation complete.
>>log;
>>SET SESSION DEFAULT STATISTICS_VIEW_TYPE 'DEFAULT' ;

--- SQL operation complete.
>>display statistics for QID MXID11000009156212358279905535000000000000206U3333300_305_S1 ACCUMULATED;
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       2017/04/06 23:06:06.989107
Execute End Time         2017/04/06 23:06:07.002116
Execute Elapsed Time                 0:00:00.013009
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           2
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:06:07.000444
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS
Accessed Rows            4
Used Rows                4
SE IOs                   4
SE IO Bytes              176
SE IO MAX Time           3,572
SQL Process Busy Time    6,381
UDR Process Busy Time    0
SQL Space Allocated      896                       KB
SQL Space Used           766                       KB
SQL Heap Allocated       200                       KB
SQL Heap Used            78                        KB
SQL Heap WM              10,341                    KB
Processes Created        0
Process Create Time      0
Request Message Count    28
Request Message Bytes    39,712
Reply Message Count      15
Reply Message Bytes      42,416
Scr. Overflow Mode       DISK
Scr. File Count          0
Scr. Buffer Blk Size     0
Scr. Buffer Blks Read    0
Scr. Buffer Blks Written 0
Scr. Read Count          0
Scr. Write Count         0

--- SQL operation complete.
>>get statistics for QID MXID11000009156212358279905535000000000000206U3333300_305_S1 ACCUMULATED;
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       2017/04/06 23:06:06.989107
Execute End Time         2017/04/06 23:06:07.002116
Execute Elapsed Time                 0:00:00.013009
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           2
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:06:07.000444
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS
Accessed Rows            4
Used Rows                4
SE IOs                   4
SE IO Bytes              176
SE IO MAX Time           3,572
SQL Process Busy Time    6,381
UDR Process Busy Time    0
SQL Space Allocated      896                       KB
SQL Space Used           766                       KB
SQL Heap Allocated       200                       KB
SQL Heap Used            78                        KB
SQL Heap WM              10,341                    KB
Processes Created        0
Process Create Time      0
Request Message Count    28
Request Message Bytes    39,712
Reply Message Count      15
Reply Message Bytes      42,416
Scr. Overflow Mode       DISK
Scr. File Count          0
Scr. Buffer Blk Size     0
Scr. Buffer Blks Read    0
Scr. Buffer Blks Written 0
Scr. Read Count          0
Scr. Write Count         0

--- SQL operation complete.
>>log;
>>SET SESSION DEFAULT STATISTICS_VIEW_TYPE 'DEFAULT' ;

--- SQL operation complete.
>>display statistics for QID MXID11000009156212358279905535000000000000206U3333300_305_S1 PERTABLE;
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       2017/04/06 23:06:06.989107
Execute End Time         2017/04/06 23:06:07.002116
Execute Elapsed Time                 0:00:00.013009
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           2
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:06:07.000444
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS
SQL Process Busy Time    6,381
UDR Process Busy Time    0
SQL Space Allocated      896                       KB
SQL Space Used           766                       KB
SQL Heap Allocated       200                       KB
SQL Heap Used            78                        KB
SQL Heap WM              10,341                    KB
Processes Created        0
Process Create Time      0
Request Message Count    28
Request Message Bytes    39,712
Reply Message Count      15
Reply Message Bytes      42,416
Scr. Overflow Mode       DISK
Scr. File Count          0
Scr. Buffer Blk Size     0
Scr. Buffer Blks Read    0
Scr. Buffer Blks Written 0
Scr. Read Count          0
Scr. Write Count         0
Sort TopN                -1

       ID       DOP         Table Name
   Records Accessed       Records Used   HBase/Hive   HBase/Hive      HBase/Hive IO      HBase/Hive IO
   Estimated/Actual   Estimated/Actual          IOs    IO MBytes           Sum Time           Max Time
        1         2   TRAFODION.SCH.TSTAT
                  0                100
                  4                  4            4            0              6,690              3,572

--- SQL operation complete.
>>get statistics for QID MXID11000009156212358279905535000000000000206U3333300_305_S1 PERTABLE;
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       2017/04/06 23:06:06.989107
Execute End Time         2017/04/06 23:06:07.002116
Execute Elapsed Time                 0:00:00.013009
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           2
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:06:07.000444
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS
SQL Process Busy Time    6,381
UDR Process Busy Time    0
SQL Space Allocated      896                       KB
SQL Space Used           766                       KB
SQL Heap Allocated       200                       KB
SQL Heap Used            78                        KB
SQL Heap WM              10,341                    KB
Processes Created        0
Process Create Time      0
Request Message Count    28
Request Message Bytes    39,712
Reply Message Count      15
Reply Message Bytes      42,416
Scr. Overflow Mode       DISK
Scr. File Count          0
Scr. Buffer Blk Size     0
Scr. Buffer Blks Read    0
Scr. Buffer Blks Written 0
Scr. Read Count          0
Scr. Write Count         0
Sort TopN                -1

       ID       DOP         Table Name
   Records Accessed       Records Used   HBase/Hive   HBase/Hive      HBase/Hive IO      HBase/Hive IO
   Estimated/Actual   Estimated/Actual          IOs    IO MBytes           Sum Time           Max Time
        1         2   TRAFODION.SCH.TSTAT
                  0                100
                  4                  4            4            0              6,690              3,572

--- SQL operation complete.
>>log;
>>SET SESSION DEFAULT STATISTICS_VIEW_TYPE 'DEFAULT' ;

--- SQL operation complete.
>>display statistics for QID MXID11000009156212358279905535000000000000206U3333300_305_S1 PROGRESS;
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       2017/04/06 23:06:06.989107
Execute End Time         2017/04/06 23:06:07.002116
Execute Elapsed Time                 0:00:00.013009
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           2
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:06:07.000444
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS
SQL Process Busy Time    6,381
SQL Space Allocated      896                       KB
SQL Space Used           766                       KB
SQL Heap Allocated       200                       KB
SQL Heap Used            78                        KB
SQL Heap WM              10,341                    KB
Processes Created        0
Process Create Time      0
Request Message Count    28
Request Message Bytes    39,712
Reply Message Count      15
Reply Message Bytes      42,416

       ID       DOP         Table Name
   Records Accessed       Records Used   HBase/Hive   HBase/Hive      HBase/Hive IO      HBase/Hive IO
   Estimated/Actual   Estimated/Actual          IOs    IO MBytes           Sum Time           Max Time
        1         2   TRAFODION.SCH.TSTAT
                  0                100
                  4                  4            4            0              6,690              3,572

   Id            TDBName               Mode       DOP     TopN             CPUTime
             BMOHeapUsed   BMOHeapAllocated          BMOHeapWM       BMOSpaceBufSz      BMOSpaceBufCnt
 ScrFileCnt    ScrIOSize          ScrIORead       ScrIOWritten           ScrIOTime        ScrIOMaxTime
    6       EX_HASH_GRBY               DISK         2       -1               2,638
                       0                  0                  0                 256                   0
    0                  0                  0                  0                   0                   0

--- SQL operation complete.
>>get statistics for QID MXID11000009156212358279905535000000000000206U3333300_305_S1 PROGRESS;
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       2017/04/06 23:06:06.989107
Execute End Time         2017/04/06 23:06:07.002116
Execute Elapsed Time                 0:00:00.013009
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           2
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:06:07.000444
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS
SQL Process Busy Time    6,381
SQL Space Allocated      896                       KB
SQL Space Used           766                       KB
SQL Heap Allocated       200                       KB
SQL Heap Used            78                        KB
SQL Heap WM              10,341                    KB
Processes Created        0
Process Create Time      0
Request Message Count    28
Request Message Bytes    39,712
Reply Message Count      15
Reply Message Bytes      42,416

       ID       DOP         Table Name
   Records Accessed       Records Used   HBase/Hive   HBase/Hive      HBase/Hive IO      HBase/Hive IO
   Estimated/Actual   Estimated/Actual          IOs    IO MBytes           Sum Time           Max Time
        1         2   TRAFODION.SCH.TSTAT
                  0                100
                  4                  4            4            0              6,690              3,572

   Id            TDBName               Mode       DOP     TopN             CPUTime
             BMOHeapUsed   BMOHeapAllocated          BMOHeapWM       BMOSpaceBufSz      BMOSpaceBufCnt
 ScrFileCnt    ScrIOSize          ScrIORead       ScrIOWritten           ScrIOTime        ScrIOMaxTime
    6       EX_HASH_GRBY               DISK         2       -1               2,638
                       0                  0                  0                 256                   0
    0                  0                  0                  0                   0                   0

--- SQL operation complete.
>>log;
>>SET SESSION DEFAULT STATISTICS_VIEW_TYPE 'DEFAULT' ;

--- SQL operation complete.
>>display statistics for QID MXID11000009156212358279905535000000000000206U3333300_305_S1 DEFAULT;
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       2017/04/06 23:06:06.989107
Execute End Time         2017/04/06 23:06:07.002116
Execute Elapsed Time                 0:00:00.013009
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           2
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:06:07.000444
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS

LC   RC   Id   PaId ExId Frag TDB Name                 DOP     Dispatches      Oper CPU Time  Est. Records Used  Act. Records Used    Details

10   .    11   .    5    0    EX_ROOT                  1                5                  8                  0                  4              24 815
9    .    10   11   4    0    EX_SPLIT_TOP             1                5                  7                  2                  4              24
8    .    9    10   4    0    EX_SEND_TOP              2               10                800                  2                  4              32
7    .    8    9    4    2    EX_SEND_BOTTOM           2               17                144                  2                  4              32
6    .    7    8    4    2    EX_SPLIT_BOTTOM          2                7                 14                  2                  4              24 3583
5    .    6    7    3    2    EX_HASH_GRBY             2                6              2,638                  1                  4              24 0|0|0
4    .    5    6    2    2    EX_SPLIT_TOP             2               11                 13                100                  4              24
3    .    4    5    2    2    EX_SEND_TOP              4               18                774                100                  4              32
2    .    3    4    2    3    EX_SEND_BOTTOM           4               35                176                100                  4              32
1    .    2    3    2    3    EX_SPLIT_BOTTOM          2                8                 22                100                  4              24 1983
.    .    1    2    1    3    EX_TRAF_KEY_SELECT       2               12              5,355                100                  4              24 TRAFODION.SCH.TSTAT|4|176

--- SQL operation complete.
>>get statistics for QID MXID11000009156212358279905535000000000000206U3333300_305_S1 DEFAULT;
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       2017/04/06 23:06:06.989107
Execute End Time         2017/04/06 23:06:07.002116
Execute Elapsed Time                 0:00:00.013009
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           2
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:06:07.000444
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS

LC   RC   Id   PaId ExId Frag TDB Name                 DOP     Dispatches      Oper CPU Time  Est. Records Used  Act. Records Used    Details

10   .    11   .    5    0    EX_ROOT                  1                5                  8                  0                  4              24
9    .    10   11   4    0    EX_SPLIT_TOP             1                5                  7                  2                  4              24
8    .    9    10   4    0    EX_SEND_TOP              2               10                800                  2                  4              32
7    .    8    9    4    2    EX_SEND_BOTTOM           2               17                144                  2                  4              32
6    .    7    8    4    2    EX_SPLIT_BOTTOM          2                7                 14                  2                  4              24 3583
5    .    6    7    3    2    EX_HASH_GRBY             2                6              2,638                  1                  4              24 0|0|0
4    .    5    6    2    2    EX_SPLIT_TOP             2               11                 13                100                  4              24
3    .    4    5    2    2    EX_SEND_TOP              4               18                774                100                  4              32
2    .    3    4    2    3    EX_SEND_BOTTOM           4               35                176                100                  4              32
1    .    2    3    2    3    EX_SPLIT_BOTTOM          2                8                 22                100                  4              24 1983
.    .    1    2    1    3    EX_TRAF_KEY_SELECT       2               12              5,355                100                  4              24 TRAFODION.SCH.TSTAT|4|176

--- SQL operation complete.
>>log;
>>get statistics for qid current ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       2017/04/06 23:06:06.989107
Execute End Time         2017/04/06 23:06:07.002116
Execute Elapsed Time                 0:00:00.013009
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           1
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:06:07.000444
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS

LC   RC   Id   PaId ExId Frag TDB Name                 DOP     Dispatches      Oper CPU Time  Est. Records Used  Act. Records Used    Details

10   .    11   .    5    0    EX_ROOT                  1                5                  8                  0                  4              24
9    .    10   11   4    0    EX_SPLIT_TOP             1                5                  7                  2                  4              24
8    .    9    10   4    0    EX_SEND_TOP              2               10                800                  2                  4              32
7    .    8    9    4    2    EX_SEND_BOTTOM           2                7                144                  2                  4              32
6    .    7    8    4    2    EX_SPLIT_BOTTOM          2                5                 14                  2                  4              24 3583
5    .    6    7    3    2    EX_HASH_GRBY             2                6              2,638                  1                  4              24 0|0|0
4    .    5    6    2    2    EX_SPLIT_TOP             2               11                 13                100                  4              24
3    .    4    5    2    2    EX_SEND_TOP              4               18                774                100                  4              32
2    .    3    4    2    3    EX_SEND_BOTTOM           4               11                176                100                  4              32
1    .    2    3    2    3    EX_SPLIT_BOTTOM          2                6                 22                100                  4              24 1983
.    .    1    2    1    3    EX_TRAF_KEY_SELECT       2                4              1,785                100                  4              24 TRAFODION.SCH.TSTAT|4|176

--- SQL operation complete.
>>get statistics for qid current accumulated ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       2017/04/06 23:06:06.989107
Execute End Time         2017/04/06 23:06:07.002116
Execute Elapsed Time                 0:00:00.013009
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           1
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:06:07.000444
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS
Accessed Rows            4
Used Rows                4
SE IOs                   4
SE IO Bytes              176
SE IO MAX Time           3,572
SQL Process Busy Time    6,381
UDR Process Busy Time    0
SQL Space Allocated      896                       KB
SQL Space Used           766                       KB
SQL Heap Allocated       200                       KB
SQL Heap Used            78                        KB
SQL Heap WM              10,341                    KB
Processes Created        0
Process Create Time      0
Request Message Count    28
Request Message Bytes    39,712
Reply Message Count      15
Reply Message Bytes      42,416
Scr. Overflow Mode       DISK
Scr. File Count          0
Scr. Buffer Blk Size     0
Scr. Buffer Blks Read    0
Scr. Buffer Blks Written 0
Scr. Read Count          0
Scr. Write Count         0

--- SQL operation complete.
>>get statistics for qid current pertable ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       2017/04/06 23:06:06.989107
Execute End Time         2017/04/06 23:06:07.002116
Execute Elapsed Time                 0:00:00.013009
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           1
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:06:07.000444
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS
SQL Process Busy Time    6,381
UDR Process Busy Time    0
SQL Space Allocated      896                       KB
SQL Space Used           766                       KB
SQL Heap Allocated       200                       KB
SQL Heap Used            78                        KB
SQL Heap WM              10,341                    KB
Processes Created        0
Process Create Time      0
Request Message Count    28
Request Message Bytes    39,712
Reply Message Count      15
Reply Message Bytes      42,416
Scr. Overflow Mode       DISK
Scr. File Count          0
Scr. Buffer Blk Size     0
Scr. Buffer Blks Read    0
Scr. Buffer Blks Written 0
Scr. Read Count          0
Scr. Write Count         0
Sort TopN                -1

       ID       DOP         Table Name
   Records Accessed       Records Used   HBase/Hive   HBase/Hive      HBase/Hive IO      HBase/Hive IO
   Estimated/Actual   Estimated/Actual          IOs    IO MBytes           Sum Time           Max Time
        1         2   TRAFODION.SCH.TSTAT
                  0                100
                  4                  4            4            0              6,690              3,572

--- SQL operation complete.
>>get statistics for qid current progress ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       2017/04/06 23:06:06.989107
Execute End Time         2017/04/06 23:06:07.002116
Execute Elapsed Time                 0:00:00.013009
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           1
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:06:07.000444
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS
SQL Process Busy Time    6,381
SQL Space Allocated      896                       KB
SQL Space Used           766                       KB
SQL Heap Allocated       200                       KB
SQL Heap Used            78                        KB
SQL Heap WM              10,341                    KB
Processes Created        0
Process Create Time      0
Request Message Count    28
Request Message Bytes    39,712
Reply Message Count      15
Reply Message Bytes      42,416

       ID       DOP         Table Name
   Records Accessed       Records Used   HBase/Hive   HBase/Hive      HBase/Hive IO      HBase/Hive IO
   Estimated/Actual   Estimated/Actual          IOs    IO MBytes           Sum Time           Max Time
        1         2   TRAFODION.SCH.TSTAT
                  0                100
                  4                  4            4            0              6,690              3,572

   Id            TDBName               Mode       DOP     TopN             CPUTime
             BMOHeapUsed   BMOHeapAllocated          BMOHeapWM       BMOSpaceBufSz      BMOSpaceBufCnt
 ScrFileCnt    ScrIOSize          ScrIORead       ScrIOWritten           ScrIOTime        ScrIOMaxTime
    6       EX_HASH_GRBY               DISK         2       -1               2,638
                       0                  0                  0                 256                   0
    0                  0                  0                  0                   0                   0

--- SQL operation complete.
>>get statistics for qid current progress, options 'sl' ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       2017/04/06 23:06:06.989107
Execute End Time         2017/04/06 23:06:07.002116
Execute Elapsed Time                 0:00:00.013009
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           1
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:06:07.000444
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS
SQL Process Busy Time    6,381
SQL Space Allocated      896                       KB
SQL Space Used           766                       KB
SQL Heap Allocated       200                       KB
SQL Heap Used            78                        KB
SQL Heap WM              10,341                    KB
Processes Created        0
Process Create Time      0
Request Message Count    28
Request Message Bytes    39,712
Reply Message Count      15
Reply Message Bytes      42,416

       ID       DOP    EstRowsAccessed     EstRecordsUsed    ActRowsAccessed        ActRowsUsed       SE_IOs  SE_IO_Bytes      SE_IO_SumTime      SE_IO_MaxTime TableName
        1         2                  0                100                  4                  4            4            0              6,690              3,572 TRAFODION.SCH.TSTAT

   Id            TDBName               Mode       DOP     TopN             CPUTime             BMOHeapUsed   BMOHeapAllocated          BMOHeapWM       BMOSpaceBufSz      BMOSpaceBufCnt  ScrFileCnt  ScrIOSize          ScrIORead       ScrIOWritten           ScrIOTime        ScrIOMaxTime
    6       EX_HASH_GRBY               DISK         2       -1               2,638                       4              1,024              7,687                 256                   0    0                  0                  0                  0                   0                   0

--- SQL operation complete.
>>get statistics for qid current default ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       2017/04/06 23:06:06.989107
Execute End Time         2017/04/06 23:06:07.002116
Execute Elapsed Time                 0:00:00.013009
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           1
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:06:07.000444
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS

LC   RC   Id   PaId ExId Frag TDB Name                 DOP     Dispatches      Oper CPU Time  Est. Records Used  Act. Records Used    Details

10   .    11   .    5    0    EX_ROOT                  1                5                  8                  0                  4              24
9    .    10   11   4    0    EX_SPLIT_TOP             1                5                  7                  2                  4              24
8    .    9    10   4    0    EX_SEND_TOP              2               10                800                  2                  4              32
7    .    8    9    4    2    EX_SEND_BOTTOM           2                7                144                  2                  4              32
6    .    7    8    4    2    EX_SPLIT_BOTTOM          2                5                 14                  2                  4              24 3583
5    .    6    7    3    2    EX_HASH_GRBY             2                6              2,638                  1                  4              24 0|0|0
4    .    5    6    2    2    EX_SPLIT_TOP             2               11                 13                100                  4              24
3    .    4    5    2    2    EX_SEND_TOP              4               18                774                100                  4              32
2    .    3    4    2    3    EX_SEND_BOTTOM           4               11                176                100                  4              32
1    .    2    3    2    3    EX_SPLIT_BOTTOM          2                6                 22                100                  4              24 1983
.    .    1    2    1    3    EX_TRAF_KEY_SELECT       2                4              1,785                100                  4              24 TRAFODION.SCH.TSTAT|4|176

--- SQL operation complete.
>>set session default statistics_view_type 'default' ;

--- SQL operation complete.
>>get statistics for qid current ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       2017/04/06 23:06:06.989107
Execute End Time         2017/04/06 23:06:07.002116
Execute Elapsed Time                 0:00:00.013009
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           1
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:06:07.000444
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS

LC   RC   Id   PaId ExId Frag TDB Name                 DOP     Dispatches      Oper CPU Time  Est. Records Used  Act. Records Used    Details

10   .    11   .    5    0    EX_ROOT                  1                5                  8                  0                  4              24 815
9    .    10   11   4    0    EX_SPLIT_TOP             1                5                  7                  2                  4              24
8    .    9    10   4    0    EX_SEND_TOP              2               10                800                  2                  4              32
7    .    8    9    4    2    EX_SEND_BOTTOM           2                7                144                  2                  4              32
6    .    7    8    4    2    EX_SPLIT_BOTTOM          2                5                 14                  2                  4              24 3583
5    .    6    7    3    2    EX_HASH_GRBY             2                6              2,638                  1                  4              24 0|0|0
4    .    5    6    2    2    EX_SPLIT_TOP             2               11                 13                100                  4              24
3    .    4    5    2    2    EX_SEND_TOP              4               18                774                100                  4              32
2    .    3    4    2    3    EX_SEND_BOTTOM           4               11                176                100                  4              32
1    .    2    3    2    3    EX_SPLIT_BOTTOM          2                6                 22                100                  4              24 1983
.    .    1    2    1    3    EX_TRAF_KEY_SELECT       2                4              1,785                100                  4              24 TRAFODION.SCH.TSTAT|4|176

--- SQL operation complete.
>>set session default statistics_view_type 'accumulated' ;

--- SQL operation complete.
>>get statistics for qid current ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       2017/04/06 23:06:06.989107
Execute End Time         2017/04/06 23:06:07.002116
Execute Elapsed Time                 0:00:00.013009
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           1
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:06:07.000444
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS
Accessed Rows            4
Used Rows                4
SE IOs                   4
SE IO Bytes              176
SE IO MAX Time           3,572
SQL Process Busy Time    6,381
UDR Process Busy Time    0
SQL Space Allocated      896                       KB
SQL Space Used           766                       KB
SQL Heap Allocated       200                       KB
SQL Heap Used            78                        KB
SQL Heap WM              10,341                    KB
Processes Created        0
Process Create Time      0
Request Message Count    28
Request Message Bytes    39,712
Reply Message Count      15
Reply Message Bytes      42,416
Scr. Overflow Mode       DISK
Scr. File Count          0
Scr. Buffer Blk Size     0
Scr. Buffer Blks Read    0
Scr. Buffer Blks Written 0
Scr. Read Count          0
Scr. Write Count         0

--- SQL operation complete.
>>set session default statistics_view_type 'pertable' ;

--- SQL operation complete.
>>get statistics for qid current ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       2017/04/06 23:06:06.989107
Execute End Time         2017/04/06 23:06:07.002116
Execute Elapsed Time                 0:00:00.013009
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           1
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:06:07.000444
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS
SQL Process Busy Time    6,381
UDR Process Busy Time    0
SQL Space Allocated      896                       KB
SQL Space Used           766                       KB
SQL Heap Allocated       200                       KB
SQL Heap Used            78                        KB
SQL Heap WM              10,341                    KB
Processes Created        0
Process Create Time      0
Request Message Count    28
Request Message Bytes    39,712
Reply Message Count      15
Reply Message Bytes      42,416
Scr. Overflow Mode       DISK
Scr. File Count          0
Scr. Buffer Blk Size     0
Scr. Buffer Blks Read    0
Scr. Buffer Blks Written 0
Scr. Read Count          0
Scr. Write Count         0
Sort TopN                -1

       ID       DOP         Table Name
   Records Accessed       Records Used   HBase/Hive   HBase/Hive      HBase/Hive IO      HBase/Hive IO
   Estimated/Actual   Estimated/Actual          IOs    IO MBytes           Sum Time           Max Time
        1         2   TRAFODION.SCH.TSTAT
                  0                100
                  4                  4            4            0              6,690              3,572

--- SQL operation complete.
>>set session default statistics_view_type 'progress' ;

--- SQL operation complete.
>>get statistics for qid current ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       2017/04/06 23:06:06.989107
Execute End Time         2017/04/06 23:06:07.002116
Execute Elapsed Time                 0:00:00.013009
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  3
Number of Cpus           1
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:06:07.000444
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS
SQL Process Busy Time    6,381
SQL Space Allocated      896                       KB
SQL Space Used           766                       KB
SQL Heap Allocated       200                       KB
SQL Heap Used            78                        KB
SQL Heap WM              10,341                    KB
Processes Created        0
Process Create Time      0
Request Message Count    28
Request Message Bytes    39,712
Reply Message Count      15
Reply Message Bytes      42,416

       ID       DOP         Table Name
   Records Accessed       Records Used   HBase/Hive   HBase/Hive      HBase/Hive IO      HBase/Hive IO
   Estimated/Actual   Estimated/Actual          IOs    IO MBytes           Sum Time           Max Time
        1         2   TRAFODION.SCH.TSTAT
                  0                100
                  4                  4            4            0              6,690              3,572

   Id            TDBName               Mode       DOP     TopN             CPUTime
             BMOHeapUsed   BMOHeapAllocated          BMOHeapWM       BMOSpaceBufSz      BMOSpaceBufCnt
 ScrFileCnt    ScrIOSize          ScrIORead       ScrIOWritten           ScrIOTime        ScrIOMaxTime
    6       EX_HASH_GRBY               DISK         2       -1               2,638
                       0                  0                  0                 256                   0
    0                  0                  0                  0                   0                   0

--- SQL operation complete.
>>set session default statistics_view_type 'pertable' ;

--- SQL operation complete.
>>
>>-- TEST for set session settings
>>set statistics pertable ;
>>execute s1 ;

D          
-----------

         12
         11
         21
         22

--- 4 row(s) selected.
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       2017/04/06 23:06:28.905515
Execute End Time         2017/04/06 23:06:28.914590
Execute Elapsed Time                 0:00:00.009075
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:06:28.913036
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS
SQL Process Busy Time    4,497
UDR Process Busy Time    0
SQL Space Allocated      896                       KB
SQL Space Used           773                       KB
SQL Heap Allocated       200                       KB
SQL Heap Used            78                        KB
SQL Heap WM              10,341                    KB
Processes Created        0
Process Create Time      0
Request Message Count    18
Request Message Bytes    5,856
Reply Message Count      6
Reply Message Bytes      45,408
Scr. Overflow Mode       DISK
Scr. File Count          0
Scr. Buffer Blk Size     0
Scr. Buffer Blks Read    0
Scr. Buffer Blks Written 0
Scr. Read Count          0
Scr. Write Count         0
Sort TopN                -1

       ID       DOP    EstRowsAccessed     EstRecordsUsed    ActRowsAccessed        ActRowsUsed       SE_IOs  SE_IO_Bytes      SE_IO_SumTime      SE_IO_MaxTime TableName
        1         2                  0                100                  4                  4            4            0              3,799              1,902 TRAFODION.SCH.TSTAT

--- SQL operation complete.
>>set statistics progress ;
>>execute s1 ;

D          
-----------

         11
         21
         22
         12

--- 4 row(s) selected.
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       2017/04/06 23:06:28.926760
Execute End Time         2017/04/06 23:06:28.936100
Execute Elapsed Time                 0:00:00.009340
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:06:28.934604
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS
SQL Process Busy Time    4,995
SQL Space Allocated      896                       KB
SQL Space Used           774                       KB
SQL Heap Allocated       200                       KB
SQL Heap Used            78                        KB
SQL Heap WM              10,341                    KB
Processes Created        0
Process Create Time      0
Request Message Count    18
Request Message Bytes    5,856
Reply Message Count      6
Reply Message Bytes      45,408

       ID       DOP    EstRowsAccessed     EstRecordsUsed    ActRowsAccessed        ActRowsUsed       SE_IOs  SE_IO_Bytes      SE_IO_SumTime      SE_IO_MaxTime TableName
        1         2                  0                100                  4                  4            4            0              5,679              3,559 TRAFODION.SCH.TSTAT

   Id            TDBName               Mode       DOP     TopN             CPUTime             BMOHeapUsed   BMOHeapAllocated          BMOHeapWM       BMOSpaceBufSz      BMOSpaceBufCnt  ScrFileCnt  ScrIOSize          ScrIORead       ScrIOWritten           ScrIOTime        ScrIOMaxTime
    6       EX_HASH_GRBY               DISK         2       -1               2,760                       4              1,024              7,687                 256                   2    0                  0                  0                  0                   0                   0

--- SQL operation complete.
>>set statistics default ;
>>execute s1 ;

D          
-----------

         12
         11
         21
         22

--- 4 row(s) selected.
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       2017/04/06 23:06:28.946852
Execute End Time         2017/04/06 23:06:28.957253
Execute Elapsed Time                 0:00:00.010401
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:06:28.954911
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS

LC   RC   Id   PaId ExId Frag TDB Name                 DOP     Dispatches      Oper CPU Time  Est. Records Used  Act. Records Used    Details

10   .    11   .    5    0    EX_ROOT                  1                5                  7                  0                  4              24 248
9    .    10   11   4    0    EX_SPLIT_TOP             1                5                  7                  2                  4              24
8    .    9    10   4    0    EX_SEND_TOP              2                6                234                  2                  4              32
7    .    8    9    4    2    EX_SEND_BOTTOM           2               15                  7                  2                  4              32
6    .    7    8    4    2    EX_SPLIT_BOTTOM          2                7                 16                  2                  4              24 2684
5    .    6    7    3    2    EX_HASH_GRBY             2                5              2,410                  1                  4              24 0|0|0
4    .    5    6    2    2    EX_SPLIT_TOP             2                8                 16                100                  4              24
3    .    4    5    2    2    EX_SEND_TOP              4               18                235                100                  4              32
2    .    3    4    2    3    EX_SEND_BOTTOM           4               17                134                100                  4              32
1    .    2    3    2    3    EX_SPLIT_BOTTOM          2                7                 12                100                  4              24 1450
.    .    1    2    1    3    EX_TRAF_KEY_SELECT       2               72             32,816                100                  4              24 TRAFODION.SCH.TSTAT|4|176

--- SQL operation complete.
>>set statistics all ;
>>execute s1 ;

D          
-----------

         11
         21
         22
         12

--- 4 row(s) selected.
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       2017/04/06 23:06:28.966627
Execute End Time         2017/04/06 23:06:28.977833
Execute Elapsed Time                 0:00:00.011206
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:06:28.975591
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS
SQL Process Busy Time    4,110
SQL Space Allocated      896                       KB
SQL Space Used           774                       KB
SQL Heap Allocated       200                       KB
SQL Heap Used            78                        KB
SQL Heap WM              10,341                    KB
Processes Created        0
Process Create Time      0
Request Message Count    18
Request Message Bytes    5,856
Reply Message Count      6
Reply Message Bytes      45,408

       ID       DOP    EstRowsAccessed     EstRecordsUsed    ActRowsAccessed        ActRowsUsed       SE_IOs  SE_IO_Bytes      SE_IO_SumTime      SE_IO_MaxTime TableName
        1         2                  0                100                  4                  4            4            0              3,457              1,846 TRAFODION.SCH.TSTAT

   Id            TDBName               Mode       DOP     TopN             CPUTime             BMOHeapUsed   BMOHeapAllocated          BMOHeapWM       BMOSpaceBufSz      BMOSpaceBufCnt  ScrFileCnt  ScrIOSize          ScrIORead       ScrIOWritten           ScrIOTime        ScrIOMaxTime
    6       EX_HASH_GRBY               DISK         2       -1               2,236                       4              1,024              7,687                 256                   2    0                  0                  0                  0                   0                   0

--- SQL operation complete.
Qid                      MXID11000009156212358279905535000000000000206U3333300_305_S1
Compile Start Time       2017/04/06 23:06:00.886062
Compile End Time         2017/04/06 23:06:00.933429
Compile Elapsed Time                 0:00:00.047367
Execute Start Time       2017/04/06 23:06:28.966627
Execute End Time         2017/04/06 23:06:28.977833
Execute Elapsed Time                 0:00:00.011206
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select distinct d from tstat ;
SQL Source Length        30
Rows Returned            4
First Row Returned Time  2017/04/06 23:06:28.975591
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS

LC   RC   Id   PaId ExId Frag TDB Name                 DOP     Dispatches      Oper CPU Time  Est. Records Used  Act. Records Used    Details

10   .    11   .    5    0    EX_ROOT                  1                3                  7                  0                  4              24 250
9    .    10   11   4    0    EX_SPLIT_TOP             1                3                  6                  2                  4              24
8    .    9    10   4    0    EX_SEND_TOP              2                6                237                  2                  4              32
7    .    8    9    4    2    EX_SEND_BOTTOM           2               15                  7                  2                  4              32
6    .    7    8    4    2    EX_SPLIT_BOTTOM          2                7                  8                  2                  4              24 2510
5    .    6    7    3    2    EX_HASH_GRBY             2                5              2,236                  1                  4              24 0|0|0
4    .    5    6    2    2    EX_SPLIT_TOP             2               10                 19                100                  4              24
3    .    4    5    2    2    EX_SEND_TOP              4               18                240                100                  4              32
2    .    3    4    2    3    EX_SEND_BOTTOM           4               14                119                100                  4              32
1    .    2    3    2    3    EX_SPLIT_BOTTOM          2                8                 23                100                  4              24 1350
.    .    1    2    1    3    EX_TRAF_KEY_SELECT       2              120             56,195                100                  4              24 TRAFODION.SCH.TSTAT|4|176

--- SQL operation complete.
>>set statistics off ;
>>
>>-- TEST for RMS Stats
>>get statistics for RMS 0 ;
Node name                     gselva-trafodion-ins.novalocal:0
Node Id                       0
RMS Version                   2511
SSCP PID                      14654
SSCP Creation Timestamp       2017/04/06 20:09:45.566015
SSMP PID                      14740
SSMP Creation Timestamp       2017/04/06 20:09:46.043770
Source String Store Len       254
Stats Heap Allocated          67,106,592
Stats Heap Used               1,690,824
Stats Heap High WM            1,811,632
No.of Process Stats Heaps     5
No.of Process Regd.           4
No.of Query Fragments Regd.   8
RMS Semaphore Owner           -1
No.of SSCPs Opened            2
No.of SSCPs Open Deleted      0
Last GC Time                  2017/04/06 23:00:23.931586
Queries GCed in Last Run      0
Total Queries GCed            15
SSMP Request Message Count    1,954
SSMP Request Message Bytes    1,106,872
SSMP Reply Message Count      1,953
SSMP Reply Message Bytes      432,640
SSCP Request Message Count    93
SSCP Request Message Bytes    41,488
SSCP Reply Message Count      93
SSCP Reply Message Bytes      130,232
RMS Stats Reset Timestamp     2017/04/06 20:09:45.732826
No. Query Invalidation Keys   19


--- SQL operation complete.
>>-- get statistics for RMS all is not tested because it can filtering issues
>>
>>-- Misc tests to increase code coverage
>>control query shape cut;

--- SQL operation complete.
>>select 'FUNKY_OPT_UNIQUE', count(*) from table(statistics(NULL,'CPU=0'));

(EXPR)            (EXPR)              
----------------  --------------------

FUNKY_OPT_UNIQUE                     0

--- 1 row(s) selected.
>>select 'FUNKY_OPT_UNIQUE', count(*) from table(statistics(NULL,'CPU_OFFENDER=-1'));

(EXPR)            (EXPR)              
----------------  --------------------

FUNKY_OPT_UNIQUE                     0

--- 1 row(s) selected.
>>-- Coverage for SscpNewIncomingConnectionStream::processCpuStatsReq
>>select 'FUNKY_OPT_UNIQUE', count(*) from table(statistics(NULL,'CPU_OFFENDER=-1'));

(EXPR)            (EXPR)              
----------------  --------------------

FUNKY_OPT_UNIQUE                     0

--- 1 row(s) selected.
>>select 'FUNKY_OPT_UNIQUE', count(*) from table(statistics(NULL,'DISK_OFFENDER=-1'));

(EXPR)            (EXPR)              
----------------  --------------------

FUNKY_OPT_UNIQUE                     0

--- 1 row(s) selected.
>>log;
Stats Heap Allocated          67,106,592
>>
>>-- TEST for EXPLAIN_IN_RMS 
>>control query default explain_in_rms 'on' ;

--- SQL operation complete.
>>control query shape cut;

--- SQL operation complete.
>>prepare s1 from select d from tstat ;

--- SQL command prepared.
>>log;
>>explain options 'f' for qid MXID11000009156212358279905535000000000000206U3333300_335_S1 ;

LC   RC   OP   OPERATOR              OPT       DESCRIPTION           CARD
---- ---- ---- --------------------  --------  --------------------  ---------

1    .    2    root                                                  1.00E+002
.    .    1    trafodion_scan                  TSTAT                 1.00E+002

--- SQL operation complete.
>>log;
>>
>>-- TEST for index name - Soln 10-090330-0390 
>>create index tstati on tstat(d);

--- SQL operation complete.
>>prepare s1 from select d from tstat ;

--- SQL command prepared.
>>explain options 'f' s1 ;

LC   RC   OP   OPERATOR              OPT       DESCRIPTION           CARD
---- ---- ---- --------------------  --------  --------------------  ---------

1    .    2    root                                                  1.00E+002
.    .    1    trafodion_index_scan            TSTATI                1.00E+002

--- SQL operation complete.
>>log ;
>>SET SESSION DEFAULT STATISTICS_VIEW_TYPE 'DEFAULT' ;

--- SQL operation complete.
>>display statistics for QID MXID11000009156212358279905535000000000000206U3333300_456_S1 ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_456_S1
Compile Start Time       2017/04/06 23:06:57.386900
Compile End Time         2017/04/06 23:06:57.482593
Compile Elapsed Time                 0:00:00.095693
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select d from tstat ;
SQL Source Length        21
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS

--- SQL operation complete.
>>get statistics for QID MXID11000009156212358279905535000000000000206U3333300_456_S1 ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_456_S1
Compile Start Time       2017/04/06 23:06:57.386900
Compile End Time         2017/04/06 23:06:57.482593
Compile Elapsed Time                 0:00:00.095693
Execute Start Time       -1
Execute End Time         -1
Execute Elapsed Time                 0:00:00.000000
State                    CLOSE
Rows Affected            -1
SQL Error Code           0
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           0
Transaction Id           -1
Source String            select d from tstat ;
SQL Source Length        21
Rows Returned            0
First Row Returned Time  -1
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS

--- SQL operation complete.
>>log;
>>execute s1 ;

D          
-----------

         11
         12
         21
         22

--- 4 row(s) selected.
>>log ;
>>SET SESSION DEFAULT STATISTICS_VIEW_TYPE 'DEFAULT' ;

--- SQL operation complete.
>>display statistics for QID MXID11000009156212358279905535000000000000206U3333300_456_S1 PERTABLE;
Qid                      MXID11000009156212358279905535000000000000206U3333300_456_S1
Compile Start Time       2017/04/06 23:06:57.386900
Compile End Time         2017/04/06 23:06:57.482593
Compile Elapsed Time                 0:00:00.095693
Execute Start Time       2017/04/06 23:07:03.512340
Execute End Time         2017/04/06 23:07:03.523284
Execute Elapsed Time                 0:00:00.010944
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           1
Transaction Id           -1
Source String            select d from tstat ;
SQL Source Length        21
Rows Returned            4
First Row Returned Time  2017/04/06 23:07:03.522435
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS
SQL Process Busy Time    1,009
UDR Process Busy Time    0
SQL Space Allocated      1,056                     KB
SQL Space Used           1,028                     KB
SQL Heap Allocated       1,064                     KB
SQL Heap Used            1,060                     KB
SQL Heap WM              1,067                     KB
Processes Created        0
Process Create Time      0
Request Message Count    0
Request Message Bytes    0
Reply Message Count      0
Reply Message Bytes      0
Scr. Overflow Mode       UNKNOWN
Scr. File Count          0
Scr. Buffer Blk Size     0
Scr. Buffer Blks Read    0
Scr. Buffer Blks Written 0
Scr. Read Count          0
Scr. Write Count         0
Sort TopN                -1

       ID       DOP         Table Name
   Records Accessed       Records Used   HBase/Hive   HBase/Hive      HBase/Hive IO      HBase/Hive IO
   Estimated/Actual   Estimated/Actual          IOs    IO MBytes           Sum Time           Max Time
        1         1   TRAFODION.SCH.TSTATI
                  0                100
                  4                  4            2            0              9,139              9,139

--- SQL operation complete.
>>get statistics for QID MXID11000009156212358279905535000000000000206U3333300_456_S1 PERTABLE;
Qid                      MXID11000009156212358279905535000000000000206U3333300_456_S1
Compile Start Time       2017/04/06 23:06:57.386900
Compile End Time         2017/04/06 23:06:57.482593
Compile Elapsed Time                 0:00:00.095693
Execute Start Time       2017/04/06 23:07:03.512340
Execute End Time         2017/04/06 23:07:03.523284
Execute Elapsed Time                 0:00:00.010944
State                    CLOSE
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           1
Transaction Id           -1
Source String            select d from tstat ;
SQL Source Length        21
Rows Returned            4
First Row Returned Time  2017/04/06 23:07:03.522435
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS
SQL Process Busy Time    1,009
UDR Process Busy Time    0
SQL Space Allocated      32                        KB
SQL Space Used           5                         KB
SQL Heap Allocated       39                        KB
SQL Heap Used            35                        KB
SQL Heap WM              42                        KB
Processes Created        0
Process Create Time      0
Request Message Count    0
Request Message Bytes    0
Reply Message Count      0
Reply Message Bytes      0
Scr. Overflow Mode       UNKNOWN
Scr. File Count          0
Scr. Buffer Blk Size     0
Scr. Buffer Blks Read    0
Scr. Buffer Blks Written 0
Scr. Read Count          0
Scr. Write Count         0
Sort TopN                -1

       ID       DOP         Table Name
   Records Accessed       Records Used   HBase/Hive   HBase/Hive      HBase/Hive IO      HBase/Hive IO
   Estimated/Actual   Estimated/Actual          IOs    IO MBytes           Sum Time           Max Time
        1         1   TRAFODION.SCH.TSTATI
                  0                100
                  4                  4            2            0              9,139              9,139

--- SQL operation complete.
>>log;
>>
>>-- EXECDirect test to check if QID current is proper
>>select * from tstat ;

A      B       C     D          
-----  ------  ----  -----------

MMMM       21  MMMM           21
XXXXX      22  XXXX           22
AAAA       11  AAAA           11
BBBB       12  BBBB           12

--- 4 row(s) selected.
>>get statistics for qid current ;
Qid                      MXID11000009156212358279905535000000000000206U3333300_464___SQLCI_DML_LAST__
Compile Start Time       2017/04/06 23:07:09.445462
Compile End Time         2017/04/06 23:07:09.452502
Compile Elapsed Time                 0:00:00.007040
Execute Start Time       2017/04/06 23:07:09.452645
Execute End Time         2017/04/06 23:07:09.458303
Execute Elapsed Time                 0:00:00.005658
State                    DEALLOCATED
Rows Affected            0
SQL Error Code           100
Stats Error Code         0
Query Type               SQL_SELECT_NON_UNIQUE
Sub Query Type           SQL_STMT_NA
Estimated Accessed Rows  0
Estimated Used Rows      0
Parent Qid               NONE
Parent Query System      NONE
Child Qid                NONE
Number of SQL Processes  1
Number of Cpus           1
Transaction Id           -1
Source String            select * from tstat ;
SQL Source Length        21
Rows Returned            4
First Row Returned Time  2017/04/06 23:07:09.457530
Last Error before AQR    0
Number of AQR retries    0
Delay before AQR         0
No. of times reclaimed   0
Cancel Time              -1
Last Suspend Time        -1
Stats Collection Type    OPERATOR_STATS
SQL Process Busy Time    1,014
UDR Process Busy Time    0
SQL Space Allocated      32                        KB
SQL Space Used           5                         KB
SQL Heap Allocated       39                        KB
SQL Heap Used            35                        KB
SQL Heap WM              42                        KB
Processes Created        0
Process Create Time      0
Request Message Count    0
Request Message Bytes    0
Reply Message Count      0
Reply Message Bytes      0
Scr. Overflow Mode       UNKNOWN
Scr. File Count          0
Scr. Buffer Blk Size     0
Scr. Buffer Blks Read    0
Scr. Buffer Blks Written 0
Scr. Read Count          0
Scr. Write Count         0
Sort TopN                -1

       ID       DOP         Table Name
   Records Accessed       Records Used   HBase/Hive   HBase/Hive      HBase/Hive IO      HBase/Hive IO
   Estimated/Actual   Estimated/Actual          IOs    IO MBytes           Sum Time           Max Time
        1         1   TRAFODION.SCH.TSTAT
                  0                100
                  4                  4            2            0              3,993              3,993

--- SQL operation complete.
>>
>>-- Compare QID CURRENT to QID <qid>
>>control query default detailed_statistics 'ACCUMULATED' ;

--- SQL operation complete.
>>obey TESTRTS(compare_current_qid);
>>prepare s1 from select count(*) from
+>tstat A, tstat B, tstat C, tstat D;

--- SQL command prepared.
>>
>>execute s1;

(EXPR)              
--------------------

                 256

--- 1 row(s) selected.
>>
>>log;
>>sh grep "^QID is " QID_TEMP | cut -c 8- | sed "s/^/get statistics for qid /g" | sed "s/$/;/g"  > STATS_CMD_QID;
>>log;
1c1,2
< >>get statistics for qid current;
---
> >>obey STATS_CMD_QID;
> >>get statistics for qid MXID11000009156212358279905535000000000000206U3333300_467_S1;
21c22
< Number of Cpus           1
---
> Number of Cpus           2
34a36,51
>        ID       DOP         Table Name
>    Records Accessed       Records Used   HBase/Hive   HBase/Hive      HBase/Hive IO      HBase/Hive IO
>    Estimated/Actual   Estimated/Actual          IOs    IO MBytes           Sum Time           Max Time
>         1         0   TRAFODION.SCH.TSTATI
>                   0                100
>                   0                  0            0            0                  0                  0
>         6         0   TRAFODION.SCH.TSTATI
>                   0                100
>                   0                  0            0            0                  0                  0
>        11         0   TRAFODION.SCH.TSTATI
>                   0                100
>                   0                  0            0            0                  0                  0
>        16         0   TRAFODION.SCH.TSTATI
>                   0                100
>                   0                  0            0            0                  0                  0
> 
>>
>>
>>control query default detailed_statistics 'PERTABLE' ;

--- SQL operation complete.
>>obey TESTRTS(compare_current_qid);
>>prepare s1 from select count(*) from
+>tstat A, tstat B, tstat C, tstat D;

--- SQL command prepared.
>>
>>execute s1;

(EXPR)              
--------------------

                 256

--- 1 row(s) selected.
>>
>>log;
>>sh grep "^QID is " QID_TEMP | cut -c 8- | sed "s/^/get statistics for qid /g" | sed "s/$/;/g"  > STATS_CMD_QID;
>>log;
1c1,2
< >>get statistics for qid current;
---
> >>obey STATS_CMD_QID;
> >>get statistics for qid MXID11000009156212358279905535000000000000206U3333300_471_S1;
21c22
< Number of Cpus           1
---
> Number of Cpus           2
>>
>>
>>control query default detailed_statistics 'system' ;

--- SQL operation complete.
>>obey TESTRTS(compare_current_qid);
>>prepare s1 from select count(*) from
+>tstat A, tstat B, tstat C, tstat D;

--- SQL command prepared.
>>
>>execute s1;

(EXPR)              
--------------------

                 256

--- 1 row(s) selected.
>>
>>log;
>>sh grep "^QID is " QID_TEMP | cut -c 8- | sed "s/^/get statistics for qid /g" | sed "s/$/;/g"  > STATS_CMD_QID;
>>log;
1c1,2
< >>get statistics for qid current;
---
> >>obey STATS_CMD_QID;
> >>get statistics for qid MXID11000009156212358279905535000000000000206U3333300_475_S1;
21c22
< Number of Cpus           1
---
> Number of Cpus           2
>>
>>
>>obey TESTRTS(exeindp2_stats);

*** ERROR[15014] Section exeindp2_stats was not found in file TESTRTS.

>>--Negative tests using STATISTICS stored procedure
>>select * from table (statistics(null, 'QID='));

--- 0 row(s) selected.
>>select * from table (statistics(null, 'QID=mxid'));

*** ERROR[8919] Unable to retrieve Runtime Statistics for invalid Query Id mxid.

--- 0 row(s) selected.
>>select * from table (statistics(null, 'QID=MXID01001'));

*** ERROR[8919] Unable to retrieve Runtime Statistics for invalid Query Id MXID01001.

--- 0 row(s) selected.
>>select * from table (statistics(null, 'CPU='));

--- 0 row(s) selected.
>>select * from table (statistics(null, 'PID='));

*** ERROR[8920] Invalid CPU or PID passed in. Unable to retrieve Runtime Statistics.

--- 0 row(s) selected.
>>select * from table (statistics(null, 'SYSTEM='));

--- 0 row(s) selected.
>>select * from table (statistics(null, 'MERGE=2'));

--- 0 row(s) selected.
>>
>>--Negative tests using GET STATISTICS command
>>get statistics for qid ;

*** ERROR[15001] A syntax error occurred at or before: 
get statistics for qid ;
                       ^ (24 characters from start of SQL statement)

*** ERROR[8822] The statement was not prepared.

>>get statistics for qid mxid ;

*** ERROR[8919] Unable to retrieve Runtime Statistics for invalid Query Id MXID.

--- SQL operation failed with errors.
>>get statistics for qid "mxid" ;

*** ERROR[8919] Unable to retrieve Runtime Statistics for invalid Query Id mxid.

--- SQL operation failed with errors.
>>get statistics for qid mxid01001 ;

*** ERROR[8919] Unable to retrieve Runtime Statistics for invalid Query Id MXID01001.

--- SQL operation failed with errors.
>>get statistics for qid mxid0100202 ;

*** ERROR[8919] Unable to retrieve Runtime Statistics for invalid Query Id MXID0100202.

--- SQL operation failed with errors.
>>get statistics for qid mxid010010A0788 ;

*** ERROR[8919] Unable to retrieve Runtime Statistics for invalid Query Id MXID010010A0788.

--- SQL operation failed with errors.
>>get statistics for qid mxid01002020880 ;

*** ERROR[8919] Unable to retrieve Runtime Statistics for invalid Query Id MXID01002020880.

--- SQL operation failed with errors.
>>get statistics for cpu ;

*** ERROR[15001] A syntax error occurred at or before: 
get statistics for cpu ;
                       ^ (24 characters from start of SQL statement)

*** ERROR[8822] The statement was not prepared.

>>get statistics for cpu a;

*** ERROR[15001] A syntax error occurred at or before: 
get statistics for cpu a;
                       ^ (24 characters from start of SQL statement)

*** ERROR[8822] The statement was not prepared.

>>get statistics for cpu "A";

*** ERROR[15001] A syntax error occurred at or before: 
get statistics for cpu "A";
                         ^ (26 characters from start of SQL statement)

*** ERROR[8822] The statement was not prepared.

>>get statistics for pid ;

*** ERROR[15001] A syntax error occurred at or before: 
get statistics for pid ;
                       ^ (24 characters from start of SQL statement)

*** ERROR[8822] The statement was not prepared.

>>get statistics for pid a,a ;

*** ERROR[15001] A syntax error occurred at or before: 
get statistics for pid a,a ;
                       ^ (24 characters from start of SQL statement)

*** ERROR[8822] The statement was not prepared.

>>get statistics for pid a;

*** ERROR[15001] A syntax error occurred at or before: 
get statistics for pid a;
                       ^ (24 characters from start of SQL statement)

*** ERROR[8822] The statement was not prepared.

>>
>>-- Test to determine if invalid token is taken as stmt name
>>select * from table (statistics(null, 'AAA='));

--- 0 row(s) selected.
>>
>>obey TESTRTS(esp_idle_timeout);
>>get process statistics for current ;

Node Id:                      0
PID                           9156
Start Time                    2017/04/06 23:05:05.535000
EXE Memory Allocated          27 MB
EXE Memory Used High WM       97 MB
EXE Memory Used               26 MB
IPC Memory Allocated          1 MB
IPC Memory Used High WM       1 MB
IPC Memory Used               1 MB
Static Stmt Count             0
Dynamic Stmt Count            3
Open Stmt Count               0
Reclaimable Stmt Count        0
Reclaimed Stmt Count          0
Total ESPs Started            2
Total ESPs Startup Completed  2
Total ESPs Error in Startup   0
Total ESPs Deleted            0
Num ESPs In Use               2
Num ESPs Free                 0
Recent Qid                    MXID11000009156212358279905535000000000000206U3333300_475_S1

--- SQL operation complete.
>>set session default esp_idle_timeout '60' ;

--- SQL operation complete.
>>cqd esp_idle_timeout '60' ;

--- SQL operation complete.
>>control query shape esp_exchange(hash_groupby(esp_exchange(scan)));

--- SQL operation complete.
>>select distinct d from tstat ;

D          
-----------

         12
         11
         21
         22

--- 4 row(s) selected.
>>get process statistics for current ;

Node Id:                      0
PID                           9156
Start Time                    2017/04/06 23:05:05.535000
EXE Memory Allocated          27 MB
EXE Memory Used High WM       97 MB
EXE Memory Used               26 MB
IPC Memory Allocated          1 MB
IPC Memory Used High WM       1 MB
IPC Memory Used               1 MB
Static Stmt Count             0
Dynamic Stmt Count            3
Open Stmt Count               0
Reclaimable Stmt Count        0
Reclaimed Stmt Count          0
Total ESPs Started            4
Total ESPs Startup Completed  4
Total ESPs Error in Startup   0
Total ESPs Deleted            0
Num ESPs In Use               2
Num ESPs Free                 2
Recent Qid                    MXID11000009156212358279905535000000000000206U3333300_504___SQLCI_DML_LAST__

--- SQL operation complete.
>>sh sleep 70;
>>select distinct d from tstat ;

D          
-----------

         12
         11
         21
         22

--- 4 row(s) selected.
>>get process statistics for current ;

Node Id:                      0
PID                           9156
Start Time                    2017/04/06 23:05:05.535000
EXE Memory Allocated          27 MB
EXE Memory Used High WM       97 MB
EXE Memory Used               26 MB
IPC Memory Allocated          1 MB
IPC Memory Used High WM       1 MB
IPC Memory Used               1 MB
Static Stmt Count             0
Dynamic Stmt Count            3
Open Stmt Count               0
Reclaimable Stmt Count        0
Reclaimed Stmt Count          0
Total ESPs Started            6
Total ESPs Startup Completed  6
Total ESPs Error in Startup   0
Total ESPs Deleted            2
Num ESPs In Use               2
Num ESPs Free                 2
Recent Qid                    MXID11000009156212358279905535000000000000206U3333300_506___SQLCI_DML_LAST__

--- SQL operation complete.
>>
>>obey TESTRTS(clean_up);
>>drop table tstat;

--- SQL operation complete.
>>
>>log ;
